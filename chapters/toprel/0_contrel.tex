\section{The category \textbf{ContRel}}\label{sec:contrelmath}

\marginnote{
\begin{proposition}\label{prop:func}
Continuous functions are always continuous. If $f: X^\tau \rightarrow Y^\sigma$ is a continuous function, then it is also a continuous relation.
\begin{proof}
Functions are special cases of relations. The relational converse of a function viewed in this way is the same thing as the preimage.
\end{proof}
\end{proposition}
}

\marginnote{
\begin{corollary}\label{corr:top2contrel}
There is a faithful, identity-on-objects monoidal embedding $\mathbf{Top} \hookrightarrow \mathbf{ContRel}$.
\end{corollary}
}

\marginnote{
\begin{proposition}\label{prop:idrel}
The \textbf{identity relation} $X \rightarrow X$ relates anything to itself. It is defined $\{(x,x) : x \in X\} \subseteq X \times X$. The identity relation is always continuous.
\begin{proof}
The preimage of any open set under the identity relation is itself, which is open by assumption. The identity relation is also the trivial continuous function from a space to itself, so this also follows from Proposition \ref{prop:func}.
\end{proof}
\end{proposition}
}

\begin{marginfigure}\label{fig:copy}
\centering
\tikzfig{bestiary/copy}
\caption{The \emph{copy} map $X^\tau \rightarrow X^\tau \times X^\tau$, $\{(x,\begin{pmatrix} x \\ x \end{pmatrix}) \ | \ x \in X\}$.}
\end{marginfigure}

\marginnote{
\begin{proposition}\label{prop:copy}
Copy maps are continuous relations.
\begin{proof}
For a direct proof, we draw on the fact that given a basis $\mathfrak{b}$ for a topology $\tau$, ordered pairs of $\mathfrak{b}$ form a basis for the product topology $\tau \times \tau$. To show that the preimage of an open in $\tau \times \tau$ is open in $\tau$, we may consider the preimages under the copy map of basis elements of $\tau \times \tau$, which are intersections of pairs of basis elements of $\tau$, and hence definitionally open. By closure of opens under arbitrary unions, all opens of $\tau \times \tau$ have an open preimage in $\tau$.
\end{proof}
\end{proposition}
}

\begin{marginfigure}
\centering
\[\begin{tikzcd}[ampersand replacement=\&]
    \& {X^\tau} \\
    {X^\tau} \& {(X \times X)^{(\tau \times \tau)}} \& {X^\tau}
    \arrow["id"', from=1-2, to=2-1]
    \arrow["id", from=1-2, to=2-3]
    \arrow["{\pi_0}", from=2-2, to=2-1]
    \arrow["{\pi_1}"', from=2-2, to=2-3]
    \arrow["copy"{description}, dashed, from=1-2, to=2-2]
\end{tikzcd}\]
\caption{An alternative proof of Proposition \ref{prop:copy} follows from Proposition \ref{prop:func}, Corollary \ref{corr:top2contrel}, and the definition of the product topology as the coarsest topology that satisfies categorical product for the diagram above.}
\end{marginfigure}

\begin{marginfigure}
\centering
\tikzfig{bestiary/everything}
\caption{The \emph{everything} state is the relation $\{(\star,x) \mid x \in X\}$, notated as above.}
\label{fig:everything}
\end{marginfigure}

\marginnote{
\begin{proposition}\label{prop:everything}
The everything states are continuous relations.
\begin{proof}
The preimage of any subset of $X$ -- in particular the opens -- is the whole of the singleton space, which is open.
\end{proof}
\end{proposition}
}

\begin{marginfigure}
\centering
\tikzfig{bestiary/delete}
\caption{The \emph{delete} test, $\{(x,\star) \mid x \in X\}$.}
\label{fig:delete}
\end{marginfigure}

\marginnote{
\begin{proposition}
The delete tests are continuous relations.
\begin{proof}
There are only two opens in the singleton space. The preimage of the empty set is the empty set, and the preimage of the singleton is the whole of $X$; both are opens in $X$ by definition.
\end{proof}
\end{proposition}
}

\begin{marginfigure}
\centering
\scalebox{0.75}{\tikzfig{bestiary/basicrelations}}
\caption{Copy and delete satisfy the above properties, expressed as diagrammatic equations.}
\end{marginfigure}

\begin{marginfigure}
\centering
\scalebox{0.75}{\tikzfig{structure/determinism}}
\caption{Relations that interact with copy and delete are nice, and we notate them with the same black dots as for copy and delete to mark them. States are singletons, or points, when they are copiable (and non-empty). Partial continuous functions are those that commute with copy. Left-total relations are those that commute with delete. Continuous functions are those that satisfy the latter two criteria.}
\end{marginfigure}

\marginnote{
\begin{proposition}\label{prop:fullrel}
The \textbf{full relation} $X \rightarrow Y$ relates everything to everything. It is all of $X \times Y$. Full relations are always continuous.
\begin{proof}
For a direct proof, the preimage of any subset of $Y$ under the full relation is the whole of $X$, which is open by definition. Alternatively, the full relation is the composite of delete and then everything.
\end{proof}
\end{proposition}
}

\begin{marginfigure}
\centering
\tikzfig{bestiary/zerostgt}
\caption{
The \textbf{empty state} $\bullet \rightarrow X^\tau$ and \textbf{empty test} relate nothing. The \textbf{empty relation} $X^\tau \rightarrow Y^\sigma$ is the composite of empty tests and states, and relates nothing: as a relation it is $\varnothing \subset X \times Y$.}
\end{marginfigure}

\marginnote{
\begin{proposition}
Empty states, tests, and relations are continuous.
\begin{proof}
The preimage of any empty relation is the empty set, which is definitionally open.
\end{proof}
\end{proposition}
}

\begin{marginfigure}
\centering
\scalebox{0.75}{\tikzfig{bestiary/scalarrelations}}
\caption{There are two scalars: the unit, and the zero scalar. Both the one and zero scalars are idempotent, which diagrammatically means that we may freely make and merge copies of them.}
\end{marginfigure}

\begin{marginfigure}
\centering
\scalebox{0.75}{\tikzfig{bestiary/zerorelations}}
\caption{There is a zero-morphism for every input-output pair of objects in \textbf{ContRel}, which is diagrammatically the composition of the empty test and state. Zero scalars turn any relation into a zero relation. Substituting the zero relation into the LHS of the above equation means that zero relations also spawn zero scalars.}
\end{marginfigure}

\begin{marginfigure}
\centering
\scalebox{0.75}{\tikzfig{bestiary/contagion}}
\caption{So, whenever a zero-process appears in a diagram, it spawns zero scalars which infect all other processes, turning them all into zero-processes. The same holds for whenever a zero-scalar appears; it makes copies of itself to infect all other processes.}
\end{marginfigure}

\begin{defn}[\textbf{ContRel}]
The (purported) category \textbf{ContRel} has topological spaces for objects and continuous relations for morphisms.
\end{defn}

\begin{proposition}[\textbf{ContRel} is a category]
continuous relations form a category $\mathbf{ContRel}$.
\begin{proof}
\newthought{Identities:} Identity relations, which are always continuous since the preimage of an open $U$ is itself.

\newthought{Composition:} The normal composition of relations. We verify that the composite $X^\tau \overset{R}{\rightarrow} Y^\sigma \overset{S}{\rightarrow} Z^\theta$ of continuous relations is again continuous as follows:
\[U \in \theta \implies S^\dag(U) \in \sigma \implies R^\dag \circ S^\dag(U) = (S \circ R)^\dag \in \tau\]

\newthought{Associativity of composition:} Inherited from \textbf{Rel}.
\end{proof}
\end{proposition}

\subsection{Symmetric Monoidal structure}

\begin{proposition}
$(\mathbf{ContRel},\bullet,X^\tau \otimes Y^\sigma := (X \times Y)^{(\tau \times \sigma)})$ is a symmetric monoidal category.
\end{proposition}

\newthought{Tensor Unit:} The one-point space $\bullet$. Explicitly, $\{\star\}$ with topology $\{\varnothing,\{\star\}\}$.

\newthought{Tensor Product:} For objects, $X^\tau \otimes Y^\sigma$ has base set $X \times Y$ equipped with the product topology $\tau \times \sigma$. For morphisms, $R \otimes S$ the product of relations. We show that the tensor of continuous relations is again a continuous relation. Take continuous relations $R: X^\tau \rightarrow Y^\sigma$, $S: A^\alpha \rightarrow B^\beta$, and let $U$ be open in the product topology $(\sigma \times \beta)$. We need to prove that $(R \times S)^\dag(U) \in (\tau \times \alpha)$. We may express $U$ as $\bigcup\limits_{i \in I} y_i \times b_i$, where the $y_i$ and $b_i$ are in the bases $\mathfrak{b}_\sigma$ and $\mathfrak{b}_\beta$ respectively. Since for any relations we have that $R(A \cup B) = R(A) \cup R(B)$ and $(R \times S)^\dag = R^\dag \times S^\dag$:
\begin{align*}
&(R \times S)^\dag(\bigcup\limits_{i \in I} y_i \times b_i)\\
 &= \bigcup\limits_{i \in I}(R \times S)^\dag(y_i \times b_i)\\
 &= \bigcup\limits_{i \in I}(R^\dag \times S^\dag)(y_i \times b_i)
 \end{align*}
Since each $y_i$ is open and $R$ is continuous, $R^\dag(y_i) \in \tau$. Symmetrically, $S^\dag(b_i) \in \alpha$. So each $(R^\dag \times S^\dag)(y_i \times b_i) \in (\tau \times \alpha)$. Topologies are closed under arbitrary union, so we are done.

\newthought{The natural isomorphisms are inherited from \textbf{Rel}}. We will be explicit with the unitor, but for the rest, we will only check that the usual isomorphisms from \textbf{Rel} are continuous in \textbf{ContRel}. To avoid bracket-glut, we will vertically stack some tensored expressions.

\newthought{Unitors:} The left unitors are defined as the relations $\lambda_{X^{\tau}}: \bullet \times X^\tau \rightarrow X^\tau := \{(\begin{pmatrix}\star \\x \end{pmatrix}, x) \ | \ x \in X\}$, and we reverse the pairs to obtain the inverse $\lambda^{-1}_{X^{\tau}}$. These relations are continuous since the product topology of $\tau$ with the singleton is homeomorphic to $\tau$: $U \in \tau \iff (\bullet,U) \in (\bullet \times \tau)$. These relations are evidently inverses that compose to the identity. The construction is symmetric for the right unitors $\rho_{X^{\tau}}$.

\newthought{Associators:}
The associators $\alpha_{X^{\tau}Y^{\sigma}Z^{\rho}} : ((X \times Y) \times Z)^{((\tau \times \sigma) \times \rho)} \rightarrow (X \times (Y \times Z))^{(\tau \times (\sigma \times \rho))}$ are inherited from \textbf{Rel}. They are:
\[\alpha_{X^{\tau}Y^{\sigma}Z^{\rho}} := \{\big( \ (\begin{pmatrix} x \\ y \end{pmatrix} , z) \ , \ (x, \begin{pmatrix} y \\ z \end{pmatrix}) \big) \quad | \quad x \in X \ , \ y \in Y \ ,\ z \in Z \}\]
To check the continuity of the associator, observe that product topologies are isomorphic in \textbf{Top} up to bracketing, and these isomorphisms are inherited by \textbf{ContRel}. The inverse of the associator has the pairs of the relation reversed and is evidently an inverse that composes to the identity.

\newthought{Braids:}
The braidings $\theta_{X^{\tau}Y^{\sigma}} : (X \times Y)^{\tau \times \sigma} \rightarrow (Y \times X)^{\sigma \times \tau}$ are defined:
\[\{(\begin{pmatrix} x \\ y \end{pmatrix} \ , \ \begin{pmatrix} y \\ x \end{pmatrix}) \quad | \quad x \in X \ , \ y \in Y  \}\]
The braidings inherit continuity from the isomorphisms between $X^\tau \times Y^\sigma$ and $Y^\sigma \times X^\tau$ in \textbf{Top}. They inherit everything else from \textbf{Rel}

\newthought{Coherences:}
Since we have verified all of the natural isomorphisms are continuous, it suffices to say that the coherences are inherited from the symmetric monoidal structure of \textbf{Rel} up to marking objects with topologies.

\subsection{Rig category structure}

\begin{defn}[Biproducts and zero objects]
A \emph{biproduct} is simultaneously a categorical product and coproduct. A \emph{zero object} is both an initial and a terminal object. \textbf{Rel} has biproducts (the coproduct of sets equipped with reversible injections) and a zero object (the empty set).
\end{defn}

\begin{proposition}
$\mathbf{ContRel}$ has a zero object.
\begin{proof}
As in \textbf{Rel}, there is a unique relation from every object to and from the empty set with the empty topology.
\end{proof}
\end{proposition}

\begin{proposition}
$\mathbf{ContRel}$ has biproducts.
\begin{proof}
The biproduct of topologies $X^\tau$ and $Y^\sigma$ is their direct sum topology $(X \sqcup Y)^{(\tau + \sigma)}$ -- $\tau \sqcup \sigma$. As in \textbf{Rel}, the (in/pro)jections are partial identities, which are continuous by construction. To verify that it is a coproduct, given continuous relations $R: X^\tau \rightarrow Z^\rho$ and $S: Y^\sigma \rightarrow Z^\rho$, where the disjoint union $X \sqcup Y$ of sets is $\{x_1 \ | \ x \in X\} \cup \{y_2 \ | \ y \in Y\}$, we observe that $R + S := \{ (x_1,z) \ | \ (x,z) \in R \} \cup \{ (y_2,z) \ | \ y \in S \}$ is continuous and commutes with the injections as required. The argument that it is a product is symmetric.
\end{proof}
\end{proposition}

\begin{remark}
Biproducts yield another symmetric monoidal structure which the $\times$ monoidal product distributes over appropriately to yield a rig category. Throughout the chapter we will use $\cup$, but we could have also "diagrammatised" $\cup$ by treating it as a monoid internal to \textbf{ContRel} viewed as a symmetric monoidal category with respect to the biproduct. There are at least two diagrammatic formalisms for rig categories that we could have used such as \citep{comfortSheetDiagramsBimonoidal2020}, but it gets too visually complicated. especially when we sometimes take unions over arbitrary indexing sets, which is alright in topology but not depictable as a finite diagram in the $\oplus$-structure. A neat fact that follows is that a topological space is compact precisely when any arbitrarily indexed $\cup$ of tests in the $\times$-structure is \emph{depictable} in the $\oplus$-structure of either diagrammatic calculus for rig categories. \textbf{FdHilb} also has a monoidal product notated $\otimes$ that distributes over the monoidal structure given by biproducts $\oplus$. In contrast, we have used $\times$ -- the cartesian product notation -- for the monoidal product of \textbf{ContRel} since that is closer to what is familiar for sets.
\end{remark}

\subsection{Monoidal (co!)closure}

\begin{defn}[Closure type]
Recall by Proposition \ref{prop:framehom} that continuous relations $X^\tau \rightarrow Y^\sigma$ form a topological space. Denote this space $(X \times Y)^{(\tau \multimap \sigma)}$
\end{defn}

The permissible continuous relations $X^\tau \rightarrow Y^\sigma$ are tests on $(X \times Y)^{(\tau \multimap \sigma)}$. \textbf{ContRel} is not monoidal closed, because taking a closure type as an input to the evaluator would permit arbitrary subsets of $X \times Y$ as arguments. So what we seek instead is a coevaluation, where the closure type is an output. This is not as straightforward as it is in strongly compact closed \textbf{Rel}, where we may use cups and caps for process-state duality (CJ-isomorphism), because in \textbf{ContRel} we have cups \emph{but no caps}. However, we may exploit the fact that discrete topologies behave like plain sets (see Lemma \ref{lem:disccont}) and the observation that we may coarsen discrete topologies into target topologies, which is essentially enough to recover monoidal coclosed structure.

\begin{proposition}\label{prop:prodvsclos}
For any $X^\tau$ and $Y^\sigma$, $\tau \times \sigma \subseteq \tau \multimap \sigma$; the product topology is coarser than the corresponding closure topology.
\begin{proof}
Let $\mathfrak{b}_\tau, \mathfrak{b}_\sigma$ be bases for $\tau$ and $\sigma$ respectively, then $\tau \times \sigma$ has basis $\mathfrak{b}_\tau \times \mathfrak{b}_\sigma$. An arbitrarily element $(t \in \tau, s \in \sigma)$ of this product basis can be viewed as a topological relation $t \times s \subseteq X \times Y$. Every open of $\tau \times \sigma$ is a union of such basis elements, and topological relations are closed under arbitrary union, so we have the (evidently injective) correspondence:
\[ \tau \times \sigma \ni \bigcup\limits_{i \in I}(t_i \times s_i) \mapsto \bigcup\limits_{i \in I}(t_i \times s_i) \in \tau \multimap \sigma \]
\end{proof}
\end{proposition}

\begin{example}[$\tau \multimap \sigma \nsubseteq \tau \times \sigma$]
Recalling Proposition \ref{prop:states}, let $\tau = \{\varnothing,\{\star\}\}$ on the singleton, and $\sigma$ be an arbitrary nondiscrete topology on base space Y. $(\{\star\} \times Y)^{(\tau \times \sigma)}$ is isomorphic to $Y^\sigma$, but $(\{\star\} \times Y)^{(\tau \multimap \sigma)}$ is the isomorphic to the discrete topology $Y^\bullet$. For a more concrete example, consider the Sierpi\'{n}ski space $\mathcal{S}$ again, along with the topological relation $\{(0,0),(1,0),(1,1)\} \subset \mathcal{S} \times \mathcal{S}$; due to the presence of $(0,0)$, this topological relation cannot be formed by a union of basis elements of the product topology, which are:
\begin{description}
\centering
\item[$\{1\} \times \{1\}$ =] $\{(1,1)\}$
\item[$\{1\} \times \{0,1\}$ =] $\{ (1,0),(1,1) \}$
\item[$\{0,1\} \times \{1\}$ =] $\{ (1,1),(0,1) \}$
\item[$\{0,1\} \times \{0,1\}$ =] $\{ (0,0), (0,1), (1,0), (0,1) \}$
\end{description}
\end{example}

\begin{defn}[Coarsening]\label{defn:coarsening}
Where $\tau \supseteq \rho$ are topologies on $X$, the identity-on-elements relation $X^\tau \rightarrow X^\rho$ is continuous; the relational converse of the identity is the identity, which witnesses opens of $\rho$ as opens of $\tau$. but the converse is not unless $\tau = \rho$. We denote these \emph{coarsening} relations as:
\[\tikzfig{structure/coarsening}\]
\end{defn}

\begin{defn}[Pseudo-compare]\label{defn:compare}
For any $X^\tau$, the relation $X^\star \times X^\tau \rightarrow X^\tau$ defined on objects as \[\{ \begin{pmatrix} x \\ x \end{pmatrix}, x \ | \ x \in X\}\] is continuous; the relational converse is the copy map, which sends opens $U$ in $\tau$ to $U \times U \in \tau \times \tau \subseteq X \times X$, which are opens in $X^\star \times X^\tau$. We denote these \emph{pseudo-compare} maps:
\[\tikzfig{structure/pseudocompare}\]
\end{defn}

\begin{proposition}\label{defn:perfectclosure}
Where $\star_X$ and $\star_Y$ are discrete topologies on $X$ and $Y$, $\star_X \times \star_Y = \star_X \multimap \star_Y$.
\begin{proof}
Relations between discrete topologies are just arbitrary relations, and relations are monoidal closed with $X \multimap Y \simeq X \times Y$.
\end{proof}
\end{proposition}

\begin{proposition}[\textbf{ContRel} is monoidal coclosed]\label{prop:coclosure}
The coevaluation map is:
\[\resizebox{0.5\textwidth}{!}{\tikzfig{structure/coeval}}\]
\begin{proof}
The string diagram itself demonstrates that the coevaluation is continuous, since we have demonstrated that \textbf{ContRel} is symmetric monoidal, and we know that copy (Prop. \ref{prop:copy}), everything (Prop. \ref{prop:everything}), coarsenings (Defn. \ref{defn:coarsening}) and pseudo-compares (Defn. \ref{defn:compare}) are continuous. What remains to be demonstrated is that the coevaluation behaves like one; i.e. that plugging in a continuous relation expressed as a test into the closure type of the coevaluator recovers that continuous relation. This can be shown diagrammatically by equating the underlying relations on sets in \textbf{Rel}.
\[\resizebox{\textwidth}{!}{\tikzfig{structure/coeval2}}\]
The first equation is obtained by a few steps. Forgetting topology, we turn all coarsenings into identities in \textbf{Rel}, and in particular, proposition \ref{defn:perfectclosure} deals with the 2-1 coarsening. The expression inside the closure test is obtained by CJ-isomorphism using strong compact closure in \textbf{Rel}. The pseudo-compares in \textbf{ContRel} becomes an honest compare in \textbf{Rel}. The second equation then follows by frobenius.
\end{proof}
\end{proposition}

\newthought{That's all we need for the diagrams.} The remainder of this section are endnotes for category theorists addressing the question of how \textbf{ContRel} relates to \textbf{Rel} and \textbf{Top}, and some conceptual motivations for topological relations. If none of that interests you, ignore the main body: the margins carry on with diagrammatic facts about \textbf{ContRel}.

\newpage

\subsection{Category-theoretic endnotes}

\newthought{\textbf{ContRel} and \textbf{Rel} are related by a free-forgetful adjunction}

We provide free-forgetful adjunctions relating \textbf{ContRel} to \textbf{Rel} by "forgetting topology" and sending sets to "free" discrete topologies. We exhibit a free-forgetful adjunction between \textbf{Rel} and \textbf{ContRel}.

\begin{lemma}[Any relation $R$ between discrete topologies is continuous]\label{lem:disccont}
\begin{proof}
All subsets in a discrete topologies are open.
\end{proof}
\end{lemma}

\begin{defn}[L: $\mathbf{Rel} \rightarrow \mathbf{ContRel}$] We define the action of the functor $L$:
\begin{description}
\item[On objects] $L(X) := X^\star$, ($X$ with the discrete topology)
\item[On morphisms] $L(X \overset{R}{\rightarrow} Y) := X^\star \overset{R}{\rightarrow} Y^\star$, the existence of which in \textbf{ContRel} is provided by Lemma \ref{lem:disccont}.
\end{description}
Evidently identities and associativity of composition are preserved.
\end{defn}

\begin{defn}[R: $\mathbf{ContRel} \rightarrow \mathbf{Rel}$]
\begin{description} We define the action of the functor $R$ as forgetting the topological structure.
\item[On objects] $R(X^\tau) := X$
\item[On morphisms] $R(X^\tau \overset{S}{\rightarrow} Y^\sigma) := X \overset{S}{\rightarrow} Y$
\end{description}
Evidently identities and associativity of composition are preserved.
\end{defn}

\begin{lemma}[$RL = 1_{\textbf{Rel}}$]\label{lem:idadj}
The composite $RL$ (first $L$, then $R$) is precisely equal to the identity functor on $\mathbf{Rel}$.
\begin{proof}
On objects, $FU(X) = F(X^\star) = X$. On morphisms, $FU(X \overset{R}{\rightarrow} Y) = F(X^\star \overset{R}{\rightarrow} Y^\star) = X \overset{R}{\rightarrow} Y$
\end{proof}
\end{lemma}

\begin{rem}[Coarser and finer]
Given a set of points $X$ with two topologies $X^\tau$ and $X^\sigma$, if $\tau \subset \sigma$, we say that $\tau$ \emph{is coarser than} $\sigma$, or $\sigma$ \emph{is finer than} $\tau$.
\end{rem}

\begin{lemma}[Coarsening is a continuous relation]\label{lem:coarse}
Let $X^\sigma$ be coarser than $X^\tau$. The identity relation on underlying points $X^\tau \overset{1_X}{\rightarrow} X^\sigma$ is then a continuous relation.
\begin{proof}
The preimage of the identity of any open set $U \in \sigma, U \subseteq X$ is again $U$. By definition of coarseness, $U \in \tau$.
\end{proof}
\end{lemma}

\begin{proposition}[$L \dashv R$]\label{prop:reladj}
\begin{proof}
We verify the triangular identities governing the unit and counit of the adjunction, which we first provide. By Lemma \ref{lem:idadj}, we take the natural transformation $1_\mathbf{Rel} \Rightarrow RL$ to be the identity morphism:

\[\eta_{X} := 1_{X}\]

The counit natural transformation $LR \Rightarrow 1_{\mathbf{ContRel}}$ we define to be a coarsening, the existence of which in \textbf{ContRel} is granted by Lemma \ref{lem:coarse}.

\[\epsilon_{X^\tau} : X^\star \rightarrow X^\tau := \{(x,x) : x \in X\}\]

First we evaluate $L \overset{L\eta}{\rightarrow} LRL \overset{\epsilon L}{\rightarrow} L$ at an arbitrary object (set) $X \in \textbf{Rel}$. $L(X) = X^\star = LRL(X)$, where the latter equality holds because $LR$ is precisely the identity functor on \textbf{Rel}. For the first leg from the left, $L(\eta_X) = L(1_X) = X^\star \overset{1_X}{\rightarrow} X^\star = 1_{X^\star}$. For the second, $\epsilon_{L(X)} = \epsilon_{X^\star} = X^\star \overset{1_X}{\rightarrow} X^\star = 1_{X^\star}$. So we have that $L\eta ; \epsilon L = L$ as required.\\

Now we evaluate $R \overset{\eta R}{\rightarrow} RLR \overset{R \epsilon}{\rightarrow} R$ at an arbitrary object (topological space) $X^\tau \in \textbf{ContRel}$. $R(X^\tau) = X = RLR(X^\tau)$, where the latter equality again holds because $LR = 1_\textbf{Rel}$. For the first leg from the left, $\eta_{R(X^\tau)} = \eta_X = 1_{X}$. For the second, $R(\epsilon_{X^\tau}) = R(X^\star \overset{1_X}{\rightarrow} X^\tau) = X \overset{1_X}{\rightarrow} X = 1_X$. So $\eta R ; R \epsilon = R$, as required.
\end{proof}
\end{proposition}

The usual forgetful functor from \textbf{ContRel} to \textbf{Loc} has no left adjoint. Just as the forgetful functor from \textbf{ContRel} to \textbf{Rel} "forgets topology while keeping the points", we might consider a forgetful functor to \textbf{Loc} that "forgets points while remembering topology". But we show that there is no such functor that forms a free-forgetful adjunction.

\begin{rem}[The category \textbf{Loc}]\citep{nlabauthorsLocNLab}
A \emph{frame} is a poset with all joins and finite meets satisfying the infinite distributive law:
\[x \wedge (\bigvee\limits_{i}y_i) = \bigvee\limits_{i}(x \wedge y_i)\]
A \emph{frame homomorphism} $\phi: A \rightarrow B$ is a function between frames that preserves finite meets and arbitrary joins. The category \textbf{Frm} has frames as objects and frame homomorphisms as morphisms. The category \textbf{Loc} is defined to be $\textbf{Frm}^\text{op}$.
\end{rem}

\begin{remark}
Here are informal intuitions to ease the definition. The lattice of open sets of a given topology ordered by inclusion forms a frame -- observe the analogy "arbitrary unions" : "all joins" :: "finite intersections" : "finite meets". Closure under arbitrary joins guarantees a maximal element corresponding to the open set that is the whole space. So frames are a setting to speak of topological structure alone, without referring to a set of underlying points, hence, pointless topology. Observe that in the definition of continuous functions, open sets in the \emph{codomain} must correspond (uniquely) to open sets in the \emph{domain} -- so every continuous function induces a frame homomorphism going in the opposite direction that the function does between spaces, hence, to obtain the category \textbf{Loc} such that directions align, we reverse the arrows of \textbf{Frm}. Observe that continuous relations induce frame homomorphisms in the same way. These observations give us insight into how to construct the free and forgetful functors.
\end{remark}

\begin{defn}[$U: \textbf{ContRel} \rightarrow \textbf{Loc}$]
On objects, U sends a topology $X^\tau$ to the frame of opens in $\tau$, which we denote $\hat{\tau}$.\\
On morphisms $R: X^\tau \rightarrow Y^\sigma$, the corresponding partial frame morphism $\hat{\tau} \leftarrow \hat{\sigma}$ (notice the direction reversal for \textbf{Loc}), we define to be $\{(U_{\in \sigma},R^\dagger(U)_{\in \tau}) \ | \ U \in \sigma\}$. We ascertain that this is (1) a function that is (2) a frame homomorphism. For (1), since the relational converse picks out precisely one subset given any subset as input, these pairs do define a function. For (2), we observe that the relational converse (as all relations) preserve arbitrary unions and intersections, i.e. $R^\dagger(\bigcap\limits_i U_i) = \bigcap\limits_i R^\dagger(U_i)$ and $R^\dagger(\bigcup\limits_i U_i) = \bigcup\limits_i R^\dagger(U_i)$, so we do have a frame homomorphism. Associativity follows easily.
\end{defn}

\begin{proposition}[$U$ has no left adjoint]
\begin{proof}
Seeking contradiction, if $U$ were a right adjoint, it would preserve limits. The terminal object in \textbf{Loc} is the two-element lattice $\bot < \top$, where the unique frame homomorphism to any $\mathcal{L}$ sends $\top$ to the top element of $\mathcal{L}$ and $\bot$ to the bottom element. In \textbf{ContRel}, the empty topology $\textbf{0} = (\varnothing, \{\varnothing\})$ is terminal (and initial). However, $U\textbf{0}$ is the singleton lattice, not $\bot < \top$ (which is the image under $U$ of the singleton topology).
\end{proof}
\end{proposition}

This is a rather frustrating result, because $U$ does turn continuous relations into backwards frame homomorphisms on lattices of opens; see Proposition \ref{prop:framehom}, and note that in the frame of opens associated with a topology, the empty set becomes the bottom element. The obstacle is the fact that the empty topology is both initial and terminal in \textbf{ContRel}. We may be tempted to try treating $U$ as a right adjoint going to \textbf{Frm} instead, but then the monad induced by the injunction on \textbf{Loc} would trivialise: left adjoints preserve colimits, so any putative left adjoint $F$ must send $\bot < \top$ (initial in \textbf{Frm} by duality) to the empty topology, and the empty topology as terminal object must be sent to the terminal singleton frame, which implies that the monad $UF$ on \textbf{Frm} sends everything to the singleton lattice.

\newthought{Why not Span(\textbf{Top})?}
One common generalisation of relations is to take spans of monics in the base category. This actually produces a different category than the one we have defined. Below is an example of a span of monic continuous functions from \textbf{Top} that corresponds to a relation that doesn't live in \textbf{ContRel}. It is the span with the singleton as apex, with maps from the singleton to the closed points of a two Sierpi\'{n}ski spaces.

\[\tikzfig{topology/spanctrex}\]

\newthought{Why not a Kleisli construction on \textbf{Top}?}
Another way to view the category \textbf{Rel} is as the Kleisli category $K_\mathcal{P}$ of the powerset monad on \textbf{Set}; that is, every relation $A \rightarrow B$ can be viewed as a function $A \rightarrow \mathcal{P}B$, and composition works by exploiting the monad multiplication: $A \overset{f}\rightarrow \mathcal{P}B \overset{\mathcal{P}g}{\rightarrow} \mathcal{P}\mathcal{P}C \overset{\mu_{\mathcal{P}C}}{\rightarrow} \mathcal{P}C$. So it is reasonable to investigate whether there is a monad $T$ on \textbf{Top} such that $K_T$ is equivalent to \textbf{ContRel}. We observe that the usual free-forgetful adjunction between \textbf{Set} and \textbf{Top} sends the former to a full subcategory (of continuous functions between discrete topologies) of the latter, so a reasonable coherence condition we might ask for the putative monad $T$ to satisfy is that it is related to $\mathcal{P}$ via the free-forgetful adjunction. This amounts to asking for the following commutative diagram (in addition to the usual ones stipulating that $T$ and $\mathcal{P}$ are monadic):

\[\begin{tikzcd}
    {\textbf{Top}} && {\textbf{Top}} \\
    \\
    {\textbf{Set}} && {\textbf{Set}}
    \arrow[""{name=0, anchor=center, inner sep=0}, curve={height=-6pt}, from=1-1, to=3-1]
    \arrow[""{name=1, anchor=center, inner sep=0}, curve={height=-6pt}, from=3-1, to=1-1]
    \arrow[""{name=2, anchor=center, inner sep=0}, curve={height=-6pt}, from=1-3, to=3-3]
    \arrow[""{name=3, anchor=center, inner sep=0}, curve={height=-6pt}, from=3-3, to=1-3]
    \arrow["T"{description}, from=1-1, to=1-3]
    \arrow["{\mathcal{P}}"{description}, from=3-1, to=3-3]
    \arrow["\dashv"{anchor=center}, draw=none, from=1, to=0]
    \arrow["\dashv"{anchor=center}, draw=none, from=3, to=2]
\end{tikzcd}\]

This condition would be nice to have because it witnesses $K_{\mathcal{P}}$ as precisely $K_T$ restricted to the discrete topologies, so that $T$ really behaves as a conservative generalisation of the notion of relations to accommodate topologies. As a consequence of this condition, we may observe that discrete topologies $X^\star$ must be sent to discrete topologies on their powerset $\mathcal{P}X^\star$. In particular, this means the singleton topology is sent to the the discrete topology on a two-element set; $T\bullet = \textbf{2}$. This sinks us. We know from Proposition \ref{prop:tests} that the continuous relations $X^\tau \rightarrow \bullet$ are precisely the open sets of $\tau$, which correspond to continuous functions into Sierpi\'{n}ski space $X^\tau \rightarrow \mathbb{S}$, and $\mathbb{S} \neq \textbf{2}$.

\newthought{Where is the topology coming from?}

It is category-theoretically natural to ask whether \textbf{ContRel} is "giving topology to relations" or "powering up topologies with relations", but we have explored those techniques and it doesn't seem to be that. It is possible that the failure of these regular avenues may explain why I had such difficulty finding \textbf{ContRel} in the literature. However, we do have a free-forgetful adjunction between \textbf{ContRel} and \textbf{Rel}, and if we focus on this, it \emph{is} possible to crack the nut of where topology is coming from with enough machinery; here is one such sketch. Observe that the forgetful functor looks like it could be a kind of fibration, where the elements of the fibre over any set $A$ in \textbf{Rel} correspond to all possible topologies on $A$. Moreover, these topologies may be partially ordered by coarseness-fineness to form a frame (though a considering it a preorder will suffice.) The fibre over a relation $R: A \rightarrow B$ is all pairs of topologies $\tau, \sigma$ such that $R$ is continuous between $A^\tau$ and $B^\sigma$. The crucial observation is that if $R$ is continuous between $\tau$ and $\sigma$, then $R$ will be continuous for any finer topology in the domain, $\tau \leq \tau'$, and any coarser topology in the codomain $\sigma' \leq \sigma$; that is, the fibre over $R$ displays a boolean-valued profunctor between preorders. So \textbf{ContRel} can be viewed as the display category induced by a functor $\textbf{Rel} \rightarrow \mathcal{C}$, where $\mathcal{C}$ is a category with preorders for objects and boolean-enriched profunctors as morphisms, and the functor encodes topological data by sending sets in \textbf{Rel} to preorders of all possible topologies, and relations to profunctors. I have deliberately left this as a sketch because it doesn't seem worth it to view something so simple in such a complex way (I accept the charges of hypocrisy having just used weak $n$-categories to present TAGs.)